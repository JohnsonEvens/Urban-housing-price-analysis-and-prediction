<!--作者：昝良士、张晨旭、何岷勋 创建时间：2019.8.30 最后修改时间：2019.9.10-->
<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>

<!-- Meta Tags -->
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="description" content="">
<meta name="keywords" content="">


<!-- Title -->
<title>主页面</title>

<!-- Stylesheets -->
<link rel="stylesheet" href="static/css/bootstrap.min.css">
<link rel="stylesheet" href="static/css/jquery-ui.min.css">
<link rel="stylesheet" href="static/css/bootstrap-datepicker.min.css">
<link rel="stylesheet" href="static/css/superfish.css">
<link rel="stylesheet" href="static/css/slicknav.css">
<link rel="stylesheet" href="static/css/animate.css">
<link rel="stylesheet" href="static/css/jquery.bxslider.css">
<link rel="stylesheet" href="static/css/hover.css">
<link rel="stylesheet" href="static/css/magnific-popup.css">
<link rel="stylesheet" href="static/css/spacing.css">
<link rel="stylesheet" href="static/css/style.css">
<link rel="stylesheet" href="static/css/responsive.css">


<header>
		<div class="container">
			<div class="row">
				<div class="col-md-3 col-sm-3 logo col-lg-4 col-lg-offset-5">
					<a href="indexcd.html"><img src="/static/img/logo.png" alt=""></a>
				</div>
				<div class="col-md-9 col-sm-9 nav-wrapper col-lg-2">
					<!-- Nav Start -->
					<nav>
						<ul class="sf-menu" id="menu">
							<li class="active"><a href="/">回到首页</a></li>
						</ul>
					</nav>
					<!-- Nav End -->
				</div>
			</div>
		</div>
	</header>

<body>

<div id="preloader">
	<div id="status"></div>
</div>

<div class="page-wrapper">

	<!-- Top Bar Start -->
	<div class="top-bar">
		<div class="container">
			<div class="row">
				<div class="col-md-6 top-contact">
					<div class="list"><em class="fa fa-envelope"></em> <a> wotainanle@email.com</a></div>
					<div class="list"><em class="fa fa-phone"></em> 12580 </div>
                    <li class="nav-item">
                            {% if request.session.is_login %}
                                <a class="button-success pure-button" href="/information/">{{ request.session.user_name}}</a>
                                <a class="button-success pure-button" href="/logout/">退出</a>
                            {% else %}
                                <a class="button-success pure-button" href="/register/">注册</a>
                                <a class="button-success pure-button" href="/login/">登录</a>
                            {% endif %}
                    </li>
				</div>
            </div>
		</div>
	</div>
	<!-- Top Bar End -->

	<!-- Slider Start -->
	<section class="main-slider">
		<div class="slide-single">
			<div class="overlay"></div>
		  <div class="text">
				<div class="this-item">
				  <h2 class="text-center"><strong>欢迎来到成都城市房价分析预测系统</strong></h2>
				</div>
				<div class="this-item col-lg-7 col-lg-offset-3">
					<form role="search" class="col" action="/result1" method="get">
					    <input type="text" style = "height:58px;width:225px" class="this-item col-lg-offset-4 col-lg-4" placeholder="搜索您心仪的小区" name = "search_Info">
                        <button class="" name = 'searchCity' value = '成都' type="submit" style="width: 70px;height: 58px;font-size: 20px;background-color: #27ae60;;color: white;">搜索</button>
                    </form>
				</div>
			</div>
		</div>
	</section>
	<!-- Slider End -->

	<!-- properties Search End -->
    <form role="houseSelect" class="col" action="/result2" method="get">
	<div class="search">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<form action="#">
					  <div class="col-md-4 col-sm-4 col-xs-12 col-lg-offset-0 col-lg-3">
							<div class="single-field">
								<h4><input type ='text' name = 'city' value = '成都' style="background-color: #f2f3f3;width: 35px;height: auto;">区域:</h4>
								<div class="select-arrow">
									<select name="region">
											<optgroup id="city-optgroup-Chengdu" label="成都">
											<option value="all" label="全部">全部</option>
											<option value="锦江" label="锦江">锦江</option>
											<option value="青羊" label="青羊">青羊</option>
											<option value="武侯" label="武侯">武侯</option>
											<option value="高新" label="高新">高新</option>
											<option value="成华" label="成华">成华</option>
											<option value="金牛" label="金牛">金牛</option>
											<option value="天府新区" label="天府新区">天府新区</option>
											<option value="高新西" label="高新西">高新西</option>
										    <option value="双流" label="双流">双流</option>
											<option value="温江" label="温江">温江</option>
											<option value="郸都" label="郸都">郸都</option>
											<option value="龙泉驿" label="龙泉驿">龙泉驿</option>
											<option value="新都" label="新都">新都</option>
                                            <option value="青白江" label="青白江">青白江</option>
                                            <option value="金堂" label="金堂">金堂</option>
                                            <option value="大邑" label="大邑">大邑</option>
											<option value="蒲江" label="蒲江">蒲江</option>
											<option value="新津" label="新津">新津</option>
											<option value="彭州" label="彭州">彭州</option>
											<option value="邛崃" label="邛崃">邛崃</option>
											<option value="崇州" label="崇州">崇州</option>
										    <option value="都江堰" label="都江堰">都江堰</option>
											<option value="简阳" label="简阳">简阳</option>
											<option value="天府新区南区" label="天府新区南区">天府新区南区</option>
											<option value="德阳" label="德阳">德阳</option>
											<option value="乐山" label="乐山">乐山</option>
                                            <option value="眉山" label="眉山">眉山</option>
                                            <option value="资阳" label="资阳">资阳</option>
										    </optgroup>
								  </select>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-4 col-xs-12 col-lg-3">
							<div class="single-field">
								<h4>房型:</h4>
								<div class="select-arrow">
									<select name="type">
										  <option value="all">全部</option>
										  <option value="住宅">住宅</option>
										  <option value="别墅">别墅</option>
										  <option value="写字楼">写字楼</option>
										  <option value="商铺">商铺</option>
										  <option value="底商">底商</option>
										  <option value="酒店式公寓">酒店式公寓</option>
								  </select>
								</div>
							</div>
						</div>

						<div class="col-md-4 col-sm-4 col-xs-12 col-lg-offset-0 col-lg-3">
							<div class="single-field">
								<h4>户型:</h4>
								<div class="select-arrow">
									<select name="room">
										  <option value="all">全部</option>
										  <option value="1室">一室</option>
										  <option value="2室">两室</option>
										  <option value="3室">三室</option>
										  <option value="4室">四室</option>
										  <option value="5室">五室及以上</option>
								  </select>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-4 col-xs-12 col-lg-offset-0 col-lg-3">
							<div class="single-field">
								<h4>筛选您预期的房屋</h4>
							  <input value="筛选" type="submit">
							</div>
						</div>
                    </form>
                </div>
        </div>
    </div>
    </div>
    </form>
		  </div>
	  </div>
    </form>
  </div>

</div>
<!-- Featured Box Start -->
	<div class="why-choose-us bg-gray">
		<div class="container">
		  <div class="row">
				<div class="col-md-12">
				  <h1><strong>该区域的房价分析</strong></h1>
				  <div class="border-shape"></div>
				  <h3>我们根据您所选区域房屋的售价和成交记录制作了房价分析图</h3>
				</div>
		   		<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px"></div>
    <!-- ECharts单文件引入 -->
    <br><br><br><br><br><br><br><br>
	<input type="button" id="show2" onClick="show_main2()" value="房价">
	<input type="button" id="show4" onClick="show_main4()" value="户型">
	<div id="main2" style="height:400px"></div>
	<div id="main3" style="height:400px"></div>
	<div id="main4" style="height:400px"></div>
    <div id="main5" style="height:600px"></div>






	<a href="#" class="scrollup">
		<i class="fa fa-angle-up"></i>
	</a>

</div>


<!-- Scripts -->
<script src="static/js/echarts.min.js"></script>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {
    title : {
        text: '成都不同地区房价对比',
        subtext: '成都市'
    },
    tooltip : {
        trigger: 'axis'
    },
    toolbox: {
        show : true,
        feature : {
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : true,
            data : ['双流','东坡区','大邑','天府新区','南区','成华','新都','青白江','高新','龙泉驿','锦江','郫都','都江堰']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} 元'
            }
        }
    ],
    series : [
        {
            name:'价格',
            type:'bar',
            data:{{price_list}},
            barWidth:30,
          	barCategoryGap:'20%',
          	barGap:'10%',
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        }
    ]
};



        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main2'));

        // 指定图表的配置项和数据
        var option = {
    title : {
        text: '房屋数量关于房价的分布',
        subtext: '成都市'
    },
    tooltip : {
        trigger: 'axis'
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            data : ['1w以下','1w-1w5','1w5-2w','2w-2w5','2w5-3w','3w-4w','4w-5w','5w以上']
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'房价',
            type:'bar',
            data:{{ price_range }},
          	barCategoryGap:'70%',
          	markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
    ]
};

        myChart.setOption(option);
    </script>
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main3'));

        // 指定图表的配置项和数据
        var option = {
    title : {
        text: '房屋数量关于面积的分布',
        subtext: '成都市'
    },
    tooltip : {
        trigger: 'axis'
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            data : ['50㎡以下','60㎡','70㎡','80㎡','90㎡','100㎡','110㎡','120㎡','130㎡','140㎡','150㎡','150㎡以上']
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'房价',
            type:'bar',
            data:[600, 650, 840, 1020, 800, 1300, 1160, 924, 818, 631, 715, 808],
          	barCategoryGap:'70%',
          	markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
    ]
};
        myChart.setOption(option);
    </script>
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main4'));

        // 指定图表的配置项和数据
        var option = {
    title : {
        text: '房屋数量关于户型的分布',
        subtext: '成都市'
    },
    tooltip : {
        trigger: 'axis'
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            data : ['一室','两室','三室','四室','五室及以上'],
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'房价',
            type:'bar',
            data:{{room_range}},
          	barCategoryGap:'70%',
          	markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
    ]
};
        myChart.setOption(option);
    </script>
<script type="text/javascript">
	function show_main2()
		{
			document.getElementById("main2").style.display="block";
			document.getElementById("main3").style.display="none";
			document.getElementById("main4").style.display="none";
		}
	function show_main3()
		{
			document.getElementById("main3").style.display="block";
			document.getElementById("main2").style.display="none";
			document.getElementById("main4").style.display="none";
		}
	function show_main4()
		{
			document.getElementById("main4").style.display="block";
			document.getElementById("main3").style.display="none";
			document.getElementById("main2").style.display="none";
		}
</script>
      <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main5'));

        // 指定图表的配置项和数据
        var option = {
  	title : {
      	textStyle:
      	{
          		color : 'black'
      	},
        x:'center',
        text: '该城市各区域房价变化',
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
       padding: 40,    // [5, 10, 15, 20]
        itemGap: 1,
        selected: {
            '全部'   :true,
          	'高新区' : false,
          	'成华' : false,
          	'武侯' : false,
			'锦江' : false,
			'龙泉驿' : false,
			'青阳' : false,
			'邯郸' : false,
			'温江' : false,
			'新都' : false,
			'双流' : false,
         	'金牛' : false,
            '天府新区' : false,
            '都江堰' : false,
            '彭州' : false,
            '大邑' : false
        },
        data:['全部','高新区','成华','武侯','锦江','龙泉驿','青羊','郸都','温江','新都','双流','金牛','天府新区','都江堰','彭州','大邑']
    },
    toolbox: {
      	orient:'vertical',
      	y:'center',
        show : true,
        feature : {
            mark : {show: false},
            dataView : {show: false, readOnly: false},
            magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
            restore : {show: true},
            saveAsImage : {show: false}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['2018.9','2018.10','2018.11','2018.12','2019.1','2019.2','2019.3','2019.4',
                    '2019.5','2019.6','2019.7','2019.8']

        }
    ],
    yAxis : [
        {
            type : 'value',
            min: 7000,
          	axisLabel : {
                formatter: '{value}  元/平(均价)'
            }
        }
    ],
    series : [
        {
            name:'全部',
            type:'line',

            data:[13919,13575,13173,13039,13213,13213,13262,13420,13528,13335,13389,13385]
        },
        {
            name:'高新区',
            type:'line',

            data:[19930,19926,19528,19358,19432,19439,19668,19931,19970,19544,19548,19553]
        },
        {
            name:'成华',
            type:'line',

            data:[16415,15729,15447,15460,15524,15483,15545,15704,15951,15941,15799,15790]
        },
        {
            name:'武侯',
            type:'line',

            data:[17813,17388,16976,16697,16789,16889,17056,17243,17464,17381,17405,17416]
        },
        {
            name:'锦江',
            type:'line',

            data:[18477,19743,20445,20433,20348,20405,20129,20334,21077,21034,20863,20840]
        },
        {
            name:'龙泉驿',
            type:'line',

            data:[11400,10983,10830,10873,10877,11105,11074,11014,10981,10920,10986,10988]
        },
       {
            name:'青羊',
            type:'line',

            data:[19874,19436,19017,19136,19600,19637,19226,19406,19794,19664,19677,19647]
        },
       {
            name:'郸都',
            type:'line',

            data:[9934,9939,9905,9697,9707,9893,9974,10019,10003,10110,10130,10116]
        },
        {
            name:'温江',
            type:'line',

            data:[11592,11352,11128,10978,11012,10717,10824,10863,11175,11067,10918,10917]
        },
        {
            name:'六合区',
            type:'line',

            data:[15007,14840,14856,14773,14795,14885,14984,15000,14904,15297,15383,15463]
        },
        {
            name:'新都',
            type:'line',

            data:[10960,11182,10912,10745,10840,10813,10819,10816,10707,10777,10726,10713]
        },
        {
            name:'双流',
            type:'line',

            data:[11274,12059,12699,12536,12555,12498,12390,12471,12461,12476,12428,12429]
        },
         {
            name:'金牛',
            type:'line',

            data:[15213,14925,14437,14034,14076,14220,14721,14892,15038,14782,14725,14759]
        },
        {
            name:'天府新区',
            type:'line',

            data:[16968,16565,15967,15868,15727,15864,15988,16344,16433,16187,16370,16356]
        },
        {
            name:'都江堰',
            type:'line',

            data:[8959,8950,8969,8931,9227,9153,8820,8822,9055,9176,8950,8935]
        },
        {
            name:'彭州',
            type:'line',

            data:[7293,7236,6907,7504,7888,7745,7641,7288,7507,7551,7956,7972]
        },
        {
            name:'大邑',
            type:'line',

            data:[7946,8155,8319,8322,8568,8006,7886,7757,7677,7646,7693,7701]
        }
    ]
};

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
 </script>


<script> show_main2() </script>
<script src="static/js/jquery-2.2.4.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/jquery-ui.min.js"></script>
<script src="static/js/bootstrap-datepicker.min.js"></script>
<script src="static/js/hoverIntent.js"></script>
<script src="static/js/superfish.js"></script>
<script src="static/js/jquery.slicknav.js"></script>
<script src="static/js/owl.carousel.min.js"></script>
<script src="static/js/owl.animate.js"></script>
<script src="static/js/jquery.bxslider.min.js"></script>
<script src="static/js/jquery.mixitup.min.js"></script>
<script src="static/js/jquery.magnific-popup.min.js"></script>
<script src="static/js/waypoints.min.js"></script>
<script src="static/js/jquery.counterup.min.js"></script>
<script src="static/js/modernizr.min.js"></script>
<script src="static/js/custom.js"></script>

</body>

</html>

